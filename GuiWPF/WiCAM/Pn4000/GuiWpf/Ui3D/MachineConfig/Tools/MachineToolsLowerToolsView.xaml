<?xml version="1.0" encoding="utf-8"?>
<UserControl x:Class="WiCAM.Pn4000.GuiWpf.Ui3D.MachineConfig.Tools.MachineToolsLowerToolsView"
              xmlns:system="clr-namespace:System;assembly=System.Runtime"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:telerik="http://schemas.telerik.com/2008/xaml/presentation" xmlns:enums="clr-namespace:BendDataBase.WiCAM.Pn4000.pn4.Sym3D.BendSimulation.Enums;assembly=BendDataBase" xmlns:sys="clr-namespace:System;assembly=mscorlib" xmlns:viewModels="clr-namespace:WiCAM.Pn4000.GuiWpf.Ui3D.MachineConfig.Tools.ToolViewModels" xmlns:controls="clr-namespace:WiCAM.Pn4000.WpfBasics.Controls;assembly=WiCAM.Pn4000.WpfBasics" xmlns:tools="clr-namespace:WiCAM.Pn4000.GuiWpf.Ui3D.MachineConfig.Tools" x:Name="MainControl" Background="#00FFFFFF" VerticalContentAlignment="Stretch" HorizontalContentAlignment="Stretch" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" IsVisibleChanged="UserControl_IsVisibleChanged">
  <FrameworkElement.Resources>
    <ResourceDictionary>
      <tools:RangeToColorConverter x:Key="RangeToColorConverter" />
      <tools:RangeToSymbolConverter x:Key="RangeToSymbolConverter" />
      <Style x:Key="styleViewBoxCheck" TargetType="{x:Type Viewbox}">
        <Setter Property="Margin" Value="0,5,0,5" />
      </Style>
      <Style x:Key="styleListCheckBox" TargetType="{x:Type CheckBox}">
        <Setter Property="Width" Value="15" />
        <Setter Property="Height" Value="15" />
      </Style>
      <ObjectDataProvider x:Key="dieTypFromEnum" MethodName="GetValues" ObjectType="{x:Type system:Enum}">
        <ObjectDataProvider.MethodParameters>
          <x:TypeExtension TypeName="enums:DieTypeEnum" />
        </ObjectDataProvider.MethodParameters>
      </ObjectDataProvider>
      <ObjectDataProvider x:Key="mountSideFromEnum" MethodName="GetValues" ObjectType="{x:Type system:Enum}">
        <ObjectDataProvider.MethodParameters>
          <x:TypeExtension TypeName="enums:MountSideEnum" />
        </ObjectDataProvider.MethodParameters>
      </ObjectDataProvider>
    </ResourceDictionary>
  </FrameworkElement.Resources>
  <Border BorderBrush="#FFA9A9A9" BorderThickness="1" CornerRadius="7.5">
    <Border.Background>
      <SolidColorBrush Color="WhiteSmoke" Opacity="0.8" />
    </Border.Background>
    <Grid IsSharedSizeScope="False">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="1*" />
        <ColumnDefinition Width="1*" />
      </Grid.ColumnDefinitions>
      <Grid.RowDefinitions>
        <RowDefinition Height="1*" />
        <RowDefinition Height="1*" />
        <RowDefinition Height="Auto" />
      </Grid.RowDefinitions>
      <Border Grid.Row="0" Grid.ColumnSpan="2" Margin="5" Grid.Column="0" BorderThickness="2" Background="#00FFFFFF" 
              CornerRadius="7.5" BorderBrush="{Binding ProfileBorderBrush}">
        <Grid>
          <Grid.RowDefinitions>
            <RowDefinition Height="AUTO" />
            <RowDefinition Height="1*" />
          </Grid.RowDefinitions>
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="2.5*" />
            <ColumnDefinition Width="1*" />
          </Grid.ColumnDefinitions>
          <Grid>
            <Grid.RowDefinitions>
              <RowDefinition Height="aUtO" />
              <RowDefinition Height="AUTO" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="AUTO" />
              <ColumnDefinition Width="1*" />
              <ColumnDefinition Width="AUTO" />
            </Grid.ColumnDefinitions>
            <TextBlock Grid.Column="1" Grid.RowSpan="2" VerticalAlignment="Bottom" TextAlignment="Center" Background="#00FFFFFF" FontSize="20" TextDecorations="Underline" Text="{DynamicResource l_popup.DiesView.DieProfiles}" />
            <Label Grid.Column="0" Grid.Row="0" Style="{DynamicResource PnPopupLabelForTextBox}" Content="{DynamicResource l_popup.ToolsView.ToolList}" />
            <telerik:RadComboBox Grid.Column="0" Grid.Row="1" DisplayMemberPath="DisplayText" ItemsSource="{Binding ToolConfigModel.ToolLists}" SelectedItem="{Binding ToolConfigModel.SelectedToolList}" />
            <TextBlock Grid.Row="0" Grid.Column="2" VerticalAlignment="Center" Text="{DynamicResource l_popup.DiesView.LowerBeamMountType}" />
            <TextBox Grid.Row="1" Grid.Column="2" MinWidth="50" Text="{Binding ToolConfigModel.LowerBeamMountTypeId}" />
          </Grid>
          <telerik:RadGridView Name="LbDieProfiles" BorderBrush="#FFA9A9A9" Background="#FFF5F5F5" Grid.Row="1" Grid.Column="0" CanUserInsertRows="False" Margin="5" AutoGenerateColumns="False" GroupRenderMode="Flat" xmlns:controls1="clr-namespace:Telerik.Windows.Controls;assembly=Telerik.Windows.Data" IsSynchronizedWithCurrentItem="True" FrozenColumnCount="2" SelectionMode="Extended" ItemsSource="{Binding ProfilesFiltered}" SelectedItem="{Binding SelectedProfile}" SelectionChanged="Selector_OnSelectionChanged">
            <FrameworkElement.Resources>
              <ResourceDictionary>
                <Style x:Key="{x:Type telerik:RadComboBox}" TargetType="{x:Type telerik:RadComboBox}">
                  <Setter Property="telerik:RadComboBox.OpenDropDownOnFocus" Value="True" />
                </Style>
              </ResourceDictionary>
            </FrameworkElement.Resources>
            <UIElement.InputBindings>
              <KeyBinding Key="Delete" Command="{Binding KeyDownDelete}" />
            </UIElement.InputBindings>
            <telerik:RadContextMenu.ContextMenu>
              <telerik:RadContextMenu ItemsSource="{Binding ProfileContextMenuItems}">
                <!--Unknown connection ID: 3-->
              </telerik:RadContextMenu>
            </telerik:RadContextMenu.ContextMenu>
            <telerik:GridViewDataControl.Columns>
              <telerik:GridViewDataColumn IsReadOnly="True" Header="{DynamicResource l_popup.DiesView.ID}" Width="AUTO" DataMemberBinding="{Binding ID}" />
              <telerik:GridViewDataColumn Header="{DynamicResource l_popup.DiesView.Name}" Width="AUTO" DataMemberBinding="{Binding Name}" />
              <telerik:GridViewComboBoxColumn Header="{DynamicResource l_popup.DiesView.GroupID}" Width="AUTO" FilterMemberPath="GroupID" GroupMemberPath="GroupID" SortMemberPath="GroupID" DisplayMemberPath="ID" DataMemberBinding="{Binding Group}" ItemsSource="{Binding ToolConfigModel.LowerGroups}" />
              <telerik:GridViewComboBoxColumn Header="{DynamicResource l_popup.DiesView.GroupName}" Width="AUTO" FilterMemberPath="GroupName" SortMemberPath="GroupName" GroupMemberPath="GroupName" DisplayMemberPath="Name" EditTriggers="CellClick,F2,TextInput" DataMemberBinding="{Binding Group}" ItemsSource="{Binding ToolConfigModel.LowerGroups}" />
              <telerik:GridViewDataColumn Header="{DynamicResource l_popup.ToolsView.MultiToolID}" Width="AUTO" DataMemberBinding="{Binding MultiTool.ID}" />
              <telerik:GridViewDataColumn Header="{DynamicResource l_popup.ToolsView.MultiToolName}" Width="AUTO" DataMemberBinding="{Binding MultiTool.Name}" />
              <telerik:GridViewCheckBoxColumn Header="{DynamicResource l_popup.ToolsView.UseForFold}" Width="AUTO" DataMemberBinding="{Binding IsFoldTool}" />
              <telerik:GridViewCheckBoxColumn Header="{DynamicResource l_popup.ToolsView.RollBend}" Width="AUTO" DataMemberBinding="{Binding IsRollBend}" />
              <telerik:GridViewDataColumn Header="{DynamicResource l_popup.DiesView.CornerRadius}" Width="AUTO" DataMemberBinding="{Binding CornerRadius}">
                <telerik:GridViewColumn.CellTemplate>
                  <DataTemplate>
                    <StackPanel Orientation="Horizontal">
                      <FrameworkElement.ToolTip>
                        <ToolTip ContentStringFormat="Predicted value is: {0:F2}" Content="{Binding Path=PredictedCornerRadius}" />
                      </FrameworkElement.ToolTip>
                      <TextBlock Text="{Binding CornerRadius}" />
                      <TextBlock>
                        <TextBlock.Text>
                          <MultiBinding Converter="{StaticResource RangeToSymbolConverter}" ConverterParameter="0.02">
                            <Binding Path="CornerRadius" />
                            <Binding Path="PredictedCornerRadius" />
                          </MultiBinding>
                        </TextBlock.Text>
                      </TextBlock>
                    </StackPanel>
                  </DataTemplate>
                </telerik:GridViewColumn.CellTemplate>
                <telerik:GridViewColumn.CellStyle>
                  <Style TargetType="{x:Type telerik:GridViewCell}">
                    <Setter Property="Background">
                      <Setter.Value>
                        <MultiBinding Converter="{StaticResource RangeToColorConverter}" ConverterParameter="0.02">
                          <Binding Path="CornerRadius" />
                          <Binding Path="PredictedCornerRadius" />
                        </MultiBinding>
                      </Setter.Value>
                    </Setter>
                  </Style>
                </telerik:GridViewColumn.CellStyle>
              </telerik:GridViewDataColumn>
              <telerik:GridViewDataColumn Header="{DynamicResource l_popup.DiesView.TractrixRadius}" Width="AUTO" DataMemberBinding="{Binding TractrixRadius}" />
              <telerik:GridViewDataColumn Header="{DynamicResource l_popup.DiesView.TransitionAngle}" Width="AUTO" DataMemberBinding="{Binding TransitionAngle}" />
              <telerik:GridViewDataColumn Header="{DynamicResource l_popup.DiesView.StoneFactor}" Width="AUTO" DataMemberBinding="{Binding StoneFactor}">
                <telerik:GridViewColumn.HeaderCellStyle>
                  <Style TargetType="{x:Type telerik:GridViewHeaderCell}">
                    <Setter Property="ToolTipService.ToolTip" Value="{DynamicResource l_popup.DiesView.StoneFactorTt}" />
                  </Style>
                </telerik:GridViewColumn.HeaderCellStyle>
              </telerik:GridViewDataColumn>
              <telerik:GridViewDataColumn Header="{DynamicResource l_popup.DiesView.VWidth}" Width="AUTO" DataMemberBinding="{Binding VWidth}">
                <telerik:GridViewColumn.CellTemplate>
                  <DataTemplate>
                    <StackPanel Orientation="Horizontal">
                      <FrameworkElement.ToolTip>
                        <ToolTip ContentStringFormat="Predicted value is: {0:F2}" Content="{Binding Path=PredictedVWidth}" />
                      </FrameworkElement.ToolTip>
                      <TextBlock Text="{Binding VWidth}" />
                      <TextBlock>
                        <TextBlock.Text>
                          <MultiBinding Converter="{StaticResource RangeToSymbolConverter}" ConverterParameter="0.02">
                            <Binding Path="VWidth" />
                            <Binding Path="PredictedVWidth" />
                          </MultiBinding>
                        </TextBlock.Text>
                      </TextBlock>
                    </StackPanel>
                  </DataTemplate>
                </telerik:GridViewColumn.CellTemplate>
                <telerik:GridViewColumn.CellStyle>
                  <Style TargetType="{x:Type telerik:GridViewCell}">
                    <Setter Property="Background">
                      <Setter.Value>
                        <MultiBinding Converter="{StaticResource RangeToColorConverter}" ConverterParameter="0.02">
                          <Binding Path="VWidth" />
                          <Binding Path="PredictedVWidth" />
                        </MultiBinding>
                      </Setter.Value>
                    </Setter>
                  </Style>
                </telerik:GridViewColumn.CellStyle>
              </telerik:GridViewDataColumn>
              <telerik:GridViewComboBoxColumn Header="{DynamicResource l_popup.DiesView.VWidthType}" Width="AUTO" DisplayMemberPath="Desc" SelectedValueMemberPath="Value" EditTriggers="CellClick,F2,TextInput" DataMemberBinding="{Binding VWidthType}" ItemsSource="{Binding VWidthTypes}">
                <telerik:GridViewColumn.HeaderCellStyle>
                  <Style TargetType="{x:Type telerik:GridViewHeaderCell}">
                    <Setter Property="ToolTipService.ToolTip" Value="Typ A: Abstand zwischen Schnittpunkt der gedachten Verlängerungen der Linien; Typ B: Abstand zwischen Begin der Kreissegmente" />
                  </Style>
                </telerik:GridViewColumn.HeaderCellStyle>
              </telerik:GridViewComboBoxColumn>
              <telerik:GridViewDataColumn Header="{DynamicResource l_popup.DiesView.WorkingHeight}" Width="AUTO" DataMemberBinding="{Binding WorkingHeight}" />
              <telerik:GridViewDataColumn Header="{DynamicResource l_popup.DiesView.VAngle}" Width="AUTO" DataMemberBinding="{Binding VAngle}">
                <telerik:GridViewColumn.CellTemplate>
                  <DataTemplate>
                    <StackPanel Orientation="Horizontal">
                      <FrameworkElement.ToolTip>
                        <ToolTip ContentStringFormat="Predicted value is: {0:F2}" Content="{Binding Path=PredictedVAngle}" />
                      </FrameworkElement.ToolTip>
                      <TextBlock Text="{Binding VAngle}" />
                      <TextBlock>
                        <TextBlock.Text>
                          <MultiBinding Converter="{StaticResource RangeToSymbolConverter}" ConverterParameter="0.02">
                            <Binding Path="VAngle" />
                            <Binding Path="PredictedVAngle" />
                          </MultiBinding>
                        </TextBlock.Text>
                      </TextBlock>
                    </StackPanel>
                  </DataTemplate>
                </telerik:GridViewColumn.CellTemplate>
                <telerik:GridViewColumn.CellStyle>
                  <Style TargetType="{x:Type telerik:GridViewCell}">
                    <Setter Property="Background">
                      <Setter.Value>
                        <MultiBinding Converter="{StaticResource RangeToColorConverter}" ConverterParameter="0.02">
                          <Binding Path="VAngle" />
                          <Binding Path="PredictedVAngle" />
                        </MultiBinding>
                      </Setter.Value>
                    </Setter>
                  </Style>
                </telerik:GridViewColumn.CellStyle>
              </telerik:GridViewDataColumn>
              <telerik:GridViewDataColumn Header="{DynamicResource l_popup.DiesView.VDepth}" Width="AUTO" DataMemberBinding="{Binding VDepth}" />
              <telerik:GridViewColumn Header="{DynamicResource l_popup.DiesView.CalculateVDepth}" Width="AUTO">
                <telerik:GridViewColumn.CellTemplate>
                  <DataTemplate>
                    <telerik:RadButton ContentControl.Content="{DynamicResource l_popup.DiesView.CalculateVDepth}"  ButtonBase.Command="{Binding CalculateVDepthCommand}" ButtonBase.CommandParameter="{Binding}" />
                  </DataTemplate>
                </telerik:GridViewColumn.CellTemplate>
              </telerik:GridViewColumn>
              <telerik:GridViewDataColumn Header="{DynamicResource l_popup.DiesView.MaxGeometryError}" Width="AUTO" IsReadOnly="True" DataFormatString="{}{0:F3}" DataMemberBinding="{Binding MaxGeometryError}">
                <telerik:GridViewColumn.CellTemplate>
                  <DataTemplate>
                    <StackPanel Orientation="Horizontal">
                      <TextBlock Text="{Binding MaxGeometryError, StringFormat={}{0:0.000}}" />
                      <TextBlock>
                        <TextBlock.Text>
                          <MultiBinding Converter="{StaticResource RangeToSymbolConverter}" ConverterParameter="0.02">
                            <Binding Path="MaxGeometryError" />
                            <Binding Source="0" />
                          </MultiBinding>
                        </TextBlock.Text>
                      </TextBlock>
                    </StackPanel>
                  </DataTemplate>
                </telerik:GridViewColumn.CellTemplate>
                <telerik:GridViewColumn.CellStyle>
                  <Style TargetType="{x:Type telerik:GridViewCell}">
                    <Setter Property="Background">
                      <Setter.Value>
                        <MultiBinding Converter="{StaticResource RangeToColorConverter}" ConverterParameter="0.02">
                          <Binding Path="MaxGeometryError" />
                          <Binding Source="0" />
                        </MultiBinding>
                      </Setter.Value>
                    </Setter>
                  </Style>
                </telerik:GridViewColumn.CellStyle>
              </telerik:GridViewDataColumn>
              <telerik:GridViewCheckBoxColumn Header="{DynamicResource l_popup.DiesView.IsValidGeometry}" Width="AUTO" IsReadOnly="True" DataMemberBinding="{Binding IsValidGeometry}" />
              <telerik:GridViewColumn Header="{DynamicResource l_popup.DiesView.VerifyToolGeometry}" Width="AUTO">
                <telerik:GridViewColumn.CellTemplate>
                  <DataTemplate>
                                        <telerik:RadButton ContentControl.Content="{DynamicResource l_popup.DiesView.VerifyToolGeometry}" ButtonBase.Command="{Binding CheckValidToolGeometryCommand}" ButtonBase.CommandParameter="{Binding}" />
                  </DataTemplate>
                </telerik:GridViewColumn.CellTemplate>
              </telerik:GridViewColumn>
              <telerik:GridViewDataColumn Header="{DynamicResource l_popup.DiesView.VGroundRadius}" Width="AUTO" DataMemberBinding="{Binding VRadius}" />
              <telerik:GridViewDataColumn Header="{DynamicResource l_popup.DiesView.VGroundWidth}" Width="AUTO" DataMemberBinding="{Binding VGroundWidth}" />
              <telerik:GridViewColumn Header="{DynamicResource l_popup.DiesView.GeometryFile}" Width="AUTO">
                <telerik:GridViewColumn.CellTemplate>
                  <DataTemplate>
                    <DockPanel>
                      <controls:WiButton DockPanel.Dock="Right" RadGlyph="" FrameworkElement.ToolTip="{DynamicResource l_popup.PunchesView.ChooseGeometryFileTt}" ButtonBase.CommandParameter="{Binding}" ButtonBase.Command="{Binding Path=DataContext.CmdChooseGeometryFile, RelativeSource={RelativeSource AncestorType={x:Type telerik:RadGridView}}}" />
                      <TextBlock VerticalAlignment="Center" Text="{Binding MultiTool.GeometryFile}" ToolTip="{Binding MultiTool.GeometryFile}" />
                    </DockPanel>
                  </DataTemplate>
                </telerik:GridViewColumn.CellTemplate>
              </telerik:GridViewColumn>
              <telerik:GridViewDataColumn Header="{DynamicResource l_popup.DiesView.MaxAllowableToolForcePerLengthUnit}" Width="AUTO" DataFormatString="{}{0:0.###}" DataMemberBinding="{Binding MaxAllowableToolForcePerLengthUnit}" />
              <telerik:GridViewDataColumn Header="{DynamicResource l_popup.DiesView.OffsetX}" Width="AUTO" DataMemberBinding="{Binding OffsetInX}" />
              <telerik:GridViewColumn Header="{DynamicResource l_popup.PunchesView.MirrorGeometry}" Width="AUTO">
                <telerik:GridViewColumn.CellTemplate>
                  <DataTemplate>
                    <Button Content="{DynamicResource l_popup.PunchesView.MirrorGeometry}" ToolTip="{DynamicResource l_popup.PunchesView.MirrorGeometryTt}" CommandParameter="{Binding}" Command="{Binding Path=DataContext.CmdMirrorGeometry, RelativeSource={RelativeSource AncestorType={x:Type telerik:RadGridView}}}" />
                  </DataTemplate>
                </telerik:GridViewColumn.CellTemplate>
              </telerik:GridViewColumn>
              <telerik:GridViewCheckBoxColumn Header="{DynamicResource l_popup.ToolsView.FlippedByDefault}" Width="AUTO" AutoSelectOnEdit="True" EditTriggers="CellClick" DataMemberBinding="{Binding FlippedByDefault}" />
              <telerik:GridViewComboBoxColumn Header="{DynamicResource l_popup.ToolsView.FlippingAllowed}" Width="AUTO" SelectedValueMemberPath="Value" DisplayMemberPath="Desc" EditTriggers="CellClick" DataMemberBinding="{Binding FlippingAllowed}" ItemsSource="{Binding AllAllowedFlippingStates}" />
              <telerik:GridViewDataColumn Header="{DynamicResource l_popup.DiesView.LegLengthMin}" Width="AUTO" DataMemberBinding="{Binding LegLengthMinUi}" />
              <telerik:GridViewCheckBoxColumn Header="{DynamicResource l_popup.DiesView.Implemented}" Width="AUTO" AutoSelectOnEdit="True" EditTriggers="CellClick" DataMemberBinding="{Binding Implemented}" />
              <telerik:GridViewDataColumn Header="{DynamicResource l_popup.DiesView.FoldDepth}" Width="AUTO" DataMemberBinding="{Binding FoldDepth}" />
              <telerik:GridViewDataColumn Header="{DynamicResource l_popup.DiesView.FoldGap}" Width="AUTO" DataMemberBinding="{Binding FoldGap}" />
              <telerik:GridViewDataColumn Header="{DynamicResource l_popup.DiesView.SpringHeight}" Width="AUTO" DataMemberBinding="{Binding SpringHeight}" />
              <telerik:GridViewDataColumn Header="{DynamicResource l_popup.DiesView.WidthHemmingFace}" Width="AUTO" DataMemberBinding="{Binding WidthHemmingFace}" />
              <telerik:GridViewDataColumn Header="{DynamicResource l_popup.DiesView.PartFoldOffset}" Width="AUTO" DataMemberBinding="{Binding PartFoldOffset}" />
              <telerik:GridViewDataColumn Header="{DynamicResource l_popup.ToolsView.MountTypeID}" Width="AUTO" DataMemberBinding="{Binding MountTypeID}" />
              <telerik:GridViewDataColumn Header="PlugAngle" Width="AUTO" DataMemberBinding="{Binding MultiTool.PlugAngleUi}" />
              <telerik:GridViewDataColumn Header="PlugRadius" Width="AUTO" DataMemberBinding="{Binding MultiTool.PlugRadiusUi}" />
              <telerik:GridViewDataColumn Header="MountInstallationOffset" Width="AUTO" DataMemberBinding="{Binding PlugInstallationOffsetXUi}" />
              <telerik:GridViewDataColumn Header="MountInstallationDirection" Width="AUTO" DataMemberBinding="{Binding PlugInstallationDirection}" />
              <telerik:GridViewDataColumn Header="PlugCoupling" Width="AUTO" DataMemberBinding="{Binding MultiTool.PlugCoupling}" />
              <telerik:GridViewDataColumn Header="{DynamicResource l_popup.ToolsView.MountTypeExtensionFrontId}" Width="AUTO" DataMemberBinding="{Binding MountTypeExtensionFrontId}" />
              <telerik:GridViewDataColumn Header="{DynamicResource l_popup.ToolsView.MountTypeExtensionBackId}" Width="AUTO" DataMemberBinding="{Binding MountTypeExtensionBackId}" />
              <telerik:GridViewDataColumn Header="{DynamicResource l_popup.ToolsView.OffsetFront}" Width="AUTO" DataMemberBinding="{Binding OffsetFront}" />
              <telerik:GridViewDataColumn Header="{DynamicResource l_popup.ToolsView.OffsetBack}" Width="AUTO" DataMemberBinding="{Binding OffsetBack}" />
            </telerik:GridViewDataControl.Columns>
          </telerik:RadGridView>
          <Grid Row="0" Column="1" Visibility="Collapsed">
            <Grid.RowDefinitions>
              <RowDefinition Height="1*" />
              <RowDefinition Height="1*" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="1*" />
            </Grid.ColumnDefinitions>
            <Button Grid.Row="0" Grid.Column="0" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="3" ToolTip="{DynamicResource l_popup.ToolsView.EditGeometryTt}" CommandParameter="{Binding SelectedItem, ElementName=LbDieProfiles}" Command="{Binding ElementName=LbDieProfiles, Path=DataContext.CmdEditGeometry}">
              <controls1:RadGlyph xmlns:controls1="clr-namespace:Telerik.Windows.Controls;assembly=Telerik.Windows.Controls" controls1:RadGlyph.Glyph="" controls1:RadGlyph.FontSize="20" />
            </Button>
            <Button Grid.Row="1" Grid.Column="0" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="3" ToolTip="{DynamicResource l_popup.ToolsView.SaveGeometryTt}" CommandParameter="{Binding SelectedItem, ElementName=LbDieProfiles}" Command="{Binding ElementName=LbDieProfiles, Path=DataContext.CmdSaveGeometry}">
              <RadGlyph p17:RadGlyph.Glyph="" p17:RadGlyph.FontSize="20" xmlns:p17="clr-namespace:Telerik.Windows.Controls;assembly=Telerik.Windows.Controls" xmlns="clr-namespace:Telerik.Windows.Controls;assembly=Telerik.Windows.Controls" />
            </Button>
          </Grid>
          <Viewbox Grid.Row="1" Grid.Column="1" Margin="5" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
            <ContentControl Name="ImgProfile" VerticalContentAlignment="Stretch" HorizontalContentAlignment="Stretch" Content="{Binding ImageProfile}" />
          </Viewbox>
        </Grid>
      </Border>
      <Border Margin="5" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" BorderThickness="2" Background="#00FFFFFF" CornerRadius="7.5" BorderBrush="{Binding PieceBorderBrush}">
        <Grid>
          <Grid.RowDefinitions>
            <RowDefinition Height="AUTO" />
            <RowDefinition Height="1*" />
          </Grid.RowDefinitions>
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="2.5*" />
            <ColumnDefinition Width="1*" />
          </Grid.ColumnDefinitions>
          <Grid>
            <TextBlock TextAlignment="Center" Background="#00FFFFFF" FontSize="20" TextDecorations="Underline" Text="{DynamicResource l_popup.DiesView.DieParts}" />
          </Grid>
          <telerik:RadGridView Name="LbDieParts" BorderBrush="#FFA9A9A9" Background="#FFF5F5F5" Grid.Row="1" Grid.Column="0" CanUserInsertRows="False" Margin="5" AutoGenerateColumns="False" GroupRenderMode="Flat" IsSynchronizedWithCurrentItem="True" SelectionMode="Extended" FrozenColumnCount="2" ItemsSource="{Binding PartFiltered}" SelectedItem="{Binding SelectedPart}" SelectionChanged="Selector_OnSelectionChangedParts">
            <UIElement.InputBindings>
              <KeyBinding Key="Delete" Command="{Binding KeyDownDelete}" />
            </UIElement.InputBindings>
            <telerik:RadContextMenu.ContextMenu>
              <telerik:RadContextMenu ItemsSource="{Binding PartContextMenuItems}">
                <!--Unknown connection ID: 6-->
              </telerik:RadContextMenu>
            </telerik:RadContextMenu.ContextMenu>
            <telerik:GridViewDataControl.Columns>
              <telerik:GridViewDataColumn IsReadOnly="True" Header="{DynamicResource l_popup.DiesView.ID}" Width="AUTO" DataMemberBinding="{Binding ID}" />
              <telerik:GridViewDataColumn Header="{DynamicResource l_popup.DiesView.Length}" Width="AUTO" DataMemberBinding="{Binding Length}" />
              <telerik:GridViewDataColumn Header="{DynamicResource l_popup.DiesView.Amount}" Width="AUTO" DataMemberBinding="{Binding Amount}" />
              <telerik:GridViewDataColumn Header="{DynamicResource l_popup.ToolsView.TotalAmount}" Width="AUTO" IsReadOnly="True" DataMemberBinding="{Binding TotalAmount}" />
              <telerik:GridViewColumn Header="{DynamicResource l_popup.DiesView.GeometryFile}" Width="AUTO">
                <telerik:GridViewColumn.CellTemplate>
                  <DataTemplate>
                    <DockPanel>
                      <controls:WiButton DockPanel.Dock="Right" RadGlyph="" FrameworkElement.ToolTip="{DynamicResource l_popup.PunchesView.RemoveGeometryPartFileTt}" ButtonBase.CommandParameter="{Binding}" ButtonBase.Command="{Binding Path=DataContext.CmdRemoveGeometryFile, RelativeSource={RelativeSource AncestorType={x:Type telerik:RadGridView}}}" />
                      <controls:WiButton DockPanel.Dock="Right" RadGlyph="" FrameworkElement.ToolTip="{DynamicResource l_popup.PunchesView.ChooseGeometryPartFileTt}" ButtonBase.CommandParameter="{Binding}" ButtonBase.Command="{Binding Path=DataContext.CmdChooseGeometryFile, RelativeSource={RelativeSource AncestorType={x:Type telerik:RadGridView}}}" />
                      <TextBlock VerticalAlignment="Center" Text="{Binding GeometryFile}" ToolTip="{Binding GeometryFile}" />
                    </DockPanel>
                  </DataTemplate>
                </telerik:GridViewColumn.CellTemplate>
              </telerik:GridViewColumn>
              <telerik:GridViewDataColumn Header="{DynamicResource l_popup.DiesView.MaxAllowableToolForce}" Width="AUTO" DataMemberBinding="{Binding MaxAllowableToolForce}" />
            </telerik:GridViewDataControl.Columns>
          </telerik:RadGridView>
          <ContentControl Grid.Column="1" Grid.Row="1" Margin="5" VerticalContentAlignment="Stretch" HorizontalContentAlignment="Stretch" Content="{Binding ImagePart}" />
        </Grid>
      </Border>
      <WrapPanel Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" HorizontalAlignment="Left" Margin="0,5,0,5">
        <StackPanel Grid.Row="2" Orientation="Horizontal" Margin="15,0,300,0">
          <CheckBox Content="{DynamicResource l_popup.ToolGeneralView.ShowAllProfiles}" Margin="5" IsChecked="{Binding ShowProfilesWithoutParts}" CommandParameter="{Binding ShowProfilesWithoutParts}" />
          <CheckBox Content="{DynamicResource l_popup.ToolGeneralView.ShowAllParts}" Margin="5" IsChecked="{Binding ShowAllParts}" />
        </StackPanel>
                <telerik:RadDropDownButton telerik:RadDropDownButton.CloseOnPopupMouseLeftButtonUp="True" FrameworkElement.VerticalAlignment="Center" Control.BorderBrush="#FF000000" ContentControl.Content="{DynamicResource l_popup.DiesView.ImportHeader}" Grid.Column="1">
          <telerik:RadDropDownButton.DropDownContent>
            <telerik:RadContextMenu>
              <telerik:RadMenuItem Header="{DynamicResource l_popup.ToolsView.ImportBystronicXML}" Command="{Binding BystronicXMLCommand}" />
              <telerik:RadMenuItem Header="{DynamicResource l_popup.ToolsView.ImportDelemXML}" Command="{Binding DelemXMLCommand}" />
              <telerik:RadMenuItem Header="{DynamicResource l_popup.ToolsView.ImportLvdXML}" Command="{Binding LvdXMLCommand}" />
              <telerik:RadMenuItem Header="{DynamicResource l_popup.ToolsView.ImportRadanMDB}" Command="{Binding RadanMDBCommand}" />
              <telerik:RadMenuItem Header="{DynamicResource l_popup.ToolsView.ImportRadanXML}" Command="{Binding RadanXMLCommand}" />
              <telerik:RadMenuItem Header="{DynamicResource l_popup.DiesView.ImportTrumpfARVDies}" Command="{Binding TrumpfARVDiesCommand}" />
              <telerik:RadMenuItem Header="{DynamicResource l_popup.DiesView.ImportTrumpfARVHems}" Command="{Binding TrumpfARVHemsCommand}" />
              <telerik:RadMenuItem Header="{DynamicResource l_popup.ToolsView.ImportTrumpfMDB}" Command="{Binding TrumpfMDBCommand}" />
              <telerik:RadMenuItem Header="{DynamicResource l_popup.ToolsView.ImportTrumpfBTD}" Command="{Binding TrumpfBTDCommand}" />
              <telerik:RadMenuItem Header="{DynamicResource l_popup.ToolsView.ImportStepAutomation}" Command="{Binding StepAutomationXmaCommand}" />
              <telerik:RadMenuItem Header="{DynamicResource l_popup.ToolsView.ImportSafanDarley}" Command="{Binding SafanDarleyCommand}" />
              <telerik:RadMenuItem Header="{DynamicResource l_popup.ToolsView.ImportDXFProfile}" Command="{Binding DXFCommand}" />
            </telerik:RadContextMenu>
          </telerik:RadDropDownButton.DropDownContent>
        </telerik:RadDropDownButton>
        <Button Style="{DynamicResource PnPopupOptionButton}" Margin="10,5" Content="Check Die Profile" Grid.Column="6" Command="{Binding CheckDieProfileCommand}" />
      </WrapPanel>
      <ContentControl Grid.ColumnSpan="2" Margin="4" Grid.RowSpan="3" Visibility="{Binding EditScreenVisible}" Content="{Binding EditScreen}">
        <Control.Background>
          <SolidColorBrush Color="WhiteSmoke" Opacity="0.8" />
        </Control.Background>
      </ContentControl>
    </Grid>
  </Border>
</UserControl>